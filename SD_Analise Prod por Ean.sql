SELECT DISTINCT 'Loja: '||E.NOMEREDUZIDO LOJA, 'Cod: '||#NR1||
       CASE WHEN (SELECT DISTINCT 1 FROM MAP_PRODCODIGO C WHERE TIPCODIGO = 'E' AND CODACESSO = :NR1 OR SEQPRODUTO = :NR1) IS NULL 
         THEN ' Não Cadastrado!' ELSE ' - ' ||(SELECT DISTINCT DESCCOMPLETA FROM MAP_PRODUTO A INNER JOIN MAP_PRODCODIGO B ON A.SEQPRODUTO = B.SEQPRODUTO
           WHERE CODACESSO = :NR1 AND TIPCODIGO = 'E' OR A.SEQPRODUTO = :NR1) END
           INFO
         
  FROM MAX_EMPRESA E WHERE NROEMPRESA = :LS1
  
UNION ALL
  
SELECT NULL, NULL FROM DUAL

UNION ALL

SELECT DISTINCT 'Plu/Ean Cadastrado:', CASE WHEN CODACESSO IS NULL THEN 'Não' ELSE 'Sim' END
  FROM MAP_PRODCODIGO C WHERE C.TIPCODIGO = 'E' AND CODACESSO = :NR1  OR SEQPRODUTO = :NR1
  
UNION ALL

SELECT DISTINCT 'Ativo para Venda:', DECODE(S.STATUSVENDA, 'A','Sim','I','Não')
  FROM MRL_PRODEMPSEG S INNER JOIN MAX_EMPRESA E ON E.NROEMPRESA = S.NROEMPRESA AND E.NROSEGMENTOPRINC = S.NROSEGMENTO
                        INNER JOIN MAP_PRODCODIGO C ON S.QTDEMBALAGEM = C.QTDEMBALAGEM AND C.SEQPRODUTO = S.SEQPRODUTO AND (CODACESSO = :NR1 AND TIPCODIGO = 'E' OR C.SEQPRODUTO = :NR1)
                        
 WHERE S.NROEMPRESA = :LS1
 
UNION ALL

SELECT DISTINCT 'Estoque:', TO_CHAR(M.ESTQLOJA)||' Unidades'
  FROM MRL_PRODUTOEMPRESA M
 WHERE M.NROEMPRESA = :LS1 
   AND EXISTS (SELECT DISTINCT 1 FROM MAP_PRODCODIGO C WHERE TIPCODIGO = 'E' AND C.SEQPRODUTO = M.SEQPRODUTO AND (CODACESSO = :NR1 OR C.SEQPRODUTO = :NR1))
   
UNION ALL

SELECT DISTINCT 'Preço de Venda:', 'R$ '||TO_CHAR(NVL(NULLIF(S.PRECOVALIDPROMOC,0), S.PRECOVALIDNORMAL), 'FM999G999G990D90', 'NLS_NUMERIC_CHARACTERS='',.''') 
  FROM MRL_PRODEMPSEG S INNER JOIN MAX_EMPRESA E ON E.NROEMPRESA = S.NROEMPRESA AND E.NROSEGMENTOPRINC = S.NROSEGMENTO
                        INNER JOIN MAP_PRODCODIGO C ON S.QTDEMBALAGEM = C.QTDEMBALAGEM AND C.SEQPRODUTO = S.SEQPRODUTO AND (CODACESSO = :NR1 AND TIPCODIGO = 'E' OR C.SEQPRODUTO = :NR1)
                        
 WHERE S.NROEMPRESA = :LS1
